<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
    <link rel ="stylesheet" th:href ="@{/css/allTestStyle.css}">


    <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js" integrity="sha384-W8fXfP3gkOKtndU4JGtKDvXbO53Wy8SZCQHczT5FMiiqmQfUpWbYdTil/SxwZgAN" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.min.js" integrity="sha384-skAcpIdS7UcVUC05LJ9Dxay8AXcDYfBJqt1CJ85S/CFujBsIzCIv+l9liuYLaMQ/" crossorigin="anonymous"></script>
    <script defer th:src="@{/js/createTest.js}"></script>

</head>
<body>
<th:block th:include="/_menu"></th:block>

<div class="container">
    <!--<table th:if="${answers!=null}" class="table table-success table-striped">
        <h3>Test</h3>
        <thead>
       <tr>
           <th>#</th>
           <th>Name</th>
           <th>Update</th>
           <th>Remove</th>
       </tr>
        </thead>
        <tbody  >
        <tr th:each="answer : ${answers}">
            <td th:text="${answer.id}"  ></td>
            <td th:text="${answer.name}"></td>
            <td>
                <a style="border:2px solid grey;background: lightgray;text-decoration: none" th:text="Update"
                   th:href="@{/updateAnswer(id=${answer.id})}"></a>
            </td>
            <td>
                <a style="border:2px solid grey;background: lightgray;text-decoration: none" th:text="Delete"
                   th:href="@{/removeAnswer(id=${answer.id})}"></a>
            </td>

        </tr>
        </tbody>
    </table>
    <button  class="btn btn-primary" onclick="window.location.href='createNewAnswer'">Create Answer</button>

    <label th:if="${error!=null}" th:utext="${error}"></label>-->
     <form name="myForm"  action="/saveTest">
    <div class="row">
        <div class="col-6">
            <p>Select category</p>
            <select name="Category" class="form-select form-select-lg mb-3" aria-label=".form-select-lg example">
                <th:block  th:each="category : ${categories}">
                    <option selected th:value="${category.name}" th:utext="${category.name}"></option>
                </th:block>
            </select>
        </div>
        <div class="col-6">
            <p>Select question</p>
            <select name="Question" class="form-select form-select-lg mb-3" aria-label=".form-select-lg example">
                <th:block    th:each="question : ${questions}">
                    <option selected th:value="${question.name}" th:text="${question.name}"></option>
                </th:block>
            </select>
        </div>
    </div>

    <div id="listAnswers">
        <div class="row mb-3" id="item1">
            <div class="col-2">
                <label class="col-form-label">Option 1 : </label>
            </div>
            <div class="col-2">
                <div class="form-check m-2">
                    <input name="IsCorrect" checked class="form-check-input" type="radio"   id="gridRadios1" value="Option1">
                    <label class="form-check-label" for="gridRadios1">
                        Is correct
                    </label>
                </div>
            </div>
            <div class="col-7">
                <select name="Option1" class="form-select form-select-lg mb-3 listAnswers" aria-label=".form-select-lg example">
                    <th:block   th:each="answer : ${answers}">
                        <option selected th:name="${answer.name}" th:value="${answer.name}" th:text="${answer.name}"></option>
                    </th:block>
                </select>
            </div>
        </div>
        <div class="row mb-3" id="item2">
            <div class="col-2">
                <label class="col-form-label">Option 2 : </label>
            </div>
            <div class="col-2">
                <div class="form-check m-2">
                    <input name="IsCorrect" class="form-check-input" type="radio"  id="gridRadios2" value="Option2">
                    <label class="form-check-label" for="gridRadios2">
                        Is correct
                    </label>
                </div>
            </div>
            <div class="col-7">
                <select name="Option2" class="form-select form-select-lg mb-3 listAnswers" aria-label=".form-select-lg example">
                    <th:block    th:each="answer : ${answers}">
                        <option selected   th:value="${answer.name}" th:text="${answer.name}"></option>
                    </th:block>
                </select>
            </div>
        </div>
        <div class="row mb-3" id="item3">
            <div class="col-2">
                <label class="col-form-label">Option 3 : </label>
            </div>
            <div class="col-2">
                <div class="form-check m-2">
                    <input  name="IsCorrect"  class="form-check-input" type="radio"   id="gridRadios3" value="Option3">
                    <label class="form-check-label" for="gridRadios3">
                        Is correct
                    </label>
                </div>
            </div>
            <div class="col-7">
                <select name="Option3" class="form-select form-select-lg mb-3 listAnswers" aria-label=".form-select-lg example">
                    <th:block  th:each="answer : ${answers}">
                        <option selected th:value="${answer.name}" th:text="${answer.name}"></option>
                    </th:block>
                </select>
            </div>
            <div class="col-1">
                <button type="button" name="remove" hidden id="remove3" class="btn btn-primary">❌</button>
            </div>
        </div>
        <div class="row mb-3" id="item4">
            <div class="col-2">
                <label class="col-form-label">Option 4 : </label>
            </div>
            <div class="col-2">
                <div class="form-check m-2">
                    <input name="IsCorrect" class="form-check-input" type="radio"   id="gridRadios4" value="Option4">
                    <label class="form-check-label" for="gridRadios4">
                        Is correct
                    </label>
                </div>
            </div>
            <div class="col-7">
                <select name="Option4" class="form-select form-select-lg mb-3 listAnswers" aria-label=".form-select-lg example">
                    <th:block th:each="answer : ${answers}">
                        <option selected  th:value="${answer.name}" th:utext="${answer.name}"></option>
                    </th:block>
                </select>
            </div>
            <div class="col-1">
                <button type="button" name="remove" hidden id="remove4" class="btn btn-primary">❌</button>
            </div>
        </div>
        <div class="row mb-3" id="item5">
            <div class="col-2">
                <label class="col-form-label">Option 5 : </label>
            </div>
            <div class="col-2">
                <div class="form-check m-2">
                    <input  name="IsCorrect" class="form-check-input" type="radio"   id="gridRadios5" value="Option5">
                    <label class="form-check-label" for="gridRadios5">
                        Is correct
                    </label>
                </div>
            </div>
            <div class="col-7">
                <select name="Option5" class="form-select form-select-lg mb-3 listAnswers" aria-label=".form-select-lg example">
                    <th:block th:each="answer : ${answers}">
                        <option selected  th:value="${answer.name}" th:utext="${answer.name}"></option>
                    </th:block>
                </select>
            </div>
            <div class="col-1">
                <button type="button" name="remove" id="remove5" class="btn btn-primary">❌</button>
            </div>
        </div>
    </div>

    <div class="row w-100">
        <div class="col-4">
            <button  type="button" onclick="window.location.href='#'"  class="btn btn-primary w-100">Cancel</button>
        </div>
        <div class="col-4">
            <button  type="submit" disabled id="save"  class="btn btn-primary w-100">Save</button>
        </div>
        <div class="col-4">
            <p id="msg" class="text-center fs-3">Answers can't be the same.</p>
        </div>
    </div>
    </form>
</div>
</body>
</html>